<div class="divider" {style} on:mousedown>
	<div class="draggable"></div>
</div>

<style>
	.divider {
		position: absolute;
		width: 0;
		height: 0;
	}

	.draggable {
		position: absolute;
		left: calc(0px - var(--spacing) / 2);
		top: calc(0px - var(--spacing) / 2);
		width: calc(100% + var(--spacing));
		height: calc(100% + var(--spacing));
		background-color: none;
	}
</style>

<script>
	import * as constants from './constants.js';

	export default {
		computed: {
			style: ({ divider }) => {
				const group = divider.parent;

				const x = group.getLeft();
				const y = group.getTop();
				const w = group.getWidth();
				const h = group.getHeight();

				if (divider.direction === constants.HORIZONTAL) {
					return `left: ${x * 100}%; top: ${(y + divider.position * h) * 100}%; width: ${w * 100}%`;
				} else {
					return `top: ${y * 100}%; left: ${(x + divider.position * w) * 100}%; height: ${h * 100}%`;
				}
			}
		}
	};
</script>